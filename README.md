# Сайт риэлторского агентства

Сайт находится в разработке, поэтому доступна только страница со списком квартир и 
админка для наполнения БД.

<a href="https://ibb.co/tC8R7fy"><img src="https://i.ibb.co/ThmyVXz/image.png" alt="image" border="0"></a>

## Как установить

### Скачать

Python3 должен быть уже установлен. Скачать этот репозиторий себе на компьютер.

Рекомендуется использовать [virtualenv/venv](https://docs.python.org/3/library/venv.html)
для изоляции проекта.

### Быстрая настройка venv

Начиная с Python версии 3.3 виртуальное окружение идёт в комплекте в виде модуля
venv. Чтобы его установить и активировать нужно выполнить следующие действия в
командной строке:  

Указать скачанный репозиторий в качестве каталога.
```
cd C:\Users\ваш_пользователь\Downloads\папка_репозитория
```
Установить виртуальное окружение в выбранном каталоге.
```
Python -m venv env
```
В репозитории появится папка виртуального окружения env  

<a href="https://imgbb.com/"><img src="https://i.ibb.co/Hn4C6PD/image.png" alt="image" border="0"></a>

Активировать виртуальное окружение.
```
env\scripts\activate
```
Если всё сделано правильно, вы увидите в командной строке (env) слева от пути 
каталога.  

<a href="https://imgbb.com/"><img src="https://i.ibb.co/MZ72r22/2.png" alt="2" border="0"></a>

## Как запустить

Используйте `pip` (или `pip3`, есть конфликт с Python2) для установки 
зависимостей:
```sh
pip install -r requirements.txt
```
Создайте БД:
```sh
python manage.py migrate
```
Создайте учетную запись администратора:
```sh
python manage.py createsuperuser
```
Запустите сервер разработки:
```sh
python manage.py runserver
```

Сервер запущен и доступен по адресу [127.0.0.1:8000](http://127.0.0.1:8000/)

## Переменные окружения

Часть настроек проекта берётся из переменных окружения. Чтобы их определить, создайте файл `.env` рядом с `manage.py` и запишите туда данные в таком формате: `ПЕРЕМЕННАЯ=значение`.

Доступны 3 переменные:
- `DEBUG` — дебаг-режим. Поставьте True, чтобы увидеть отладочную информацию в случае ошибки.
- `SECRET_KEY` — секретный ключ проекта
- `ALLOWED_HOSTS` — см [документацию Django](https://docs.djangoproject.com/en/3.1/ref/settings/#allowed-hosts).
- `DATABASE` — однострочный адрес к базе данных, например: `sqlite:///db.sqlite3`. Больше информации в [документации](https://github.com/jacobian/dj-database-url)

    Это позволяет легко переключаться между базами данных: PostgreSQL, MySQL, SQLite — без разницы, нужно лишь подставить нужный адрес.

### Панель администратора

Для наполнения базы данных, добавления новых данных , необходимо зайти по адресу 
[http://127.0.0.1:8000/admin](http://127.0.0.1:8000/admin/). Для входа 
используйте учетную запись, созданную при помощи команды `createsuperuser`.

<a href="https://ibb.co/LCpGJFd"><img src="https://i.ibb.co/D7Kq8Jf/3.png" alt="3" border="0"></a>

## Цели проекта

Код написан в учебных целях — это урок в курсе по Python и веб-разработке на сайте [Devman](https://dvmn.org).
